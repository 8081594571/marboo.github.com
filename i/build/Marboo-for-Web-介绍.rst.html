<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.9.1: http://docutils.sourceforge.net/" />
<title>this is the real title in Jekyll.</title>
<link rel="stylesheet" href="/media/css/marboo.css" type="text/css" />
<link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
</head>
<body>
<div class="document" id="marboo">
<h1 class="title">Marboo插件安装指南</h1>

<!-- Author: your_name -->
<!-- This file is created from ~/.marboo/source/media/bin/default.init.rst -->
<!-- 本文件由 ~/.marboo/source/media/bin/default.init.rst 复制而来 -->
<div class="contents topic" id="id1">
<p class="topic-title first">目录</p>
<ul class="simple">
<li><a class="reference internal" href="#id2" id="id13">运行要求</a></li>
<li><a class="reference internal" href="#id3" id="id14">下载</a></li>
<li><a class="reference internal" href="#id4" id="id15">安装</a></li>
<li><a class="reference internal" href="#id5" id="id16">初始化配置</a><ul>
<li><a class="reference internal" href="#markdown" id="id17">配置markdown模板</a><ul>
<li><a class="reference internal" href="#windows" id="id18">Windows用户</a></li>
<li><a class="reference internal" href="#linux" id="id19">Linux用户</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id6" id="id20">配置默认编辑器</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id7" id="id21">使用说明</a><ul>
<li><a class="reference internal" href="#id8" id="id22">目前实现的功能</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id9" id="id23">Marboo微群</a></li>
<li><a class="reference internal" href="#id10" id="id24">常见问题</a><ul>
<li><a class="reference internal" href="#id11" id="id25">左栏为空</a></li>
<li><a class="reference internal" href="#id12" id="id26">右栏无法显示预览</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id2">
<h1><a class="toc-backref" href="#id13">运行要求</a></h1>
<p>Google Chrome 25.0.1364.172 运行正常。低版本可能有问题。</p>
</div>
<div class="section" id="id3">
<h1><a class="toc-backref" href="#id14">下载</a></h1>
<p>插件下载地址：<a class="reference external" href="http://markbook.googlecode.com/files/marboo_v0.0.1.crx">http://markbook.googlecode.com/files/marboo_v0.0.1.crx</a></p>
</div>
<div class="section" id="id4">
<h1><a class="toc-backref" href="#id15">安装</a></h1>
<p>Google Chrome浏览器地址栏输入： chrome://extensions 来进入扩展程序管理页。</p>
<p>将下载的crx文件拖入该页来安装。</p>
<p>安装完毕，注意勾选：Allow access to file URLs(允许访问文件网址)</p>
</div>
<div class="section" id="id5">
<h1><a class="toc-backref" href="#id16">初始化配置</a></h1>
<div class="section" id="markdown">
<h2><a class="toc-backref" href="#id17">配置markdown模板</a></h2>
<p>新建一个模板文件，名字为md.template.html，输入如下内容：</p>
<div class="highlight"><pre style="line-height: 125%"><span style="color: #BC7A00">&lt;!DOCTYPE html&gt;</span><br/><span style="color: #008000; font-weight: bold">&lt;html&gt;</span><br/>  <span style="color: #008000; font-weight: bold">&lt;head&gt;</span><br/>    <span style="color: #008000; font-weight: bold">&lt;meta</span> <span style="color: #7D9029">charset=</span><span style="color: #BA2121">&quot;utf-8&quot;</span> <span style="color: #008000; font-weight: bold">/&gt;</span><br/>  <span style="color: #008000; font-weight: bold">&lt;/head&gt;</span><br/>  <span style="color: #008000; font-weight: bold">&lt;body&gt;</span><br/>    <span style="color: #008000; font-weight: bold">&lt;textarea</span> <span style="color: #7D9029">id=</span><span style="color: #BA2121">&quot;source&quot;</span> <span style="color: #7D9029">style=</span><span style="color: #BA2121">&quot;display:none&quot;</span><span style="color: #008000; font-weight: bold">&gt;</span>%s<span style="color: #008000; font-weight: bold">&lt;/textarea&gt;</span><br/>    <span style="color: #008000; font-weight: bold">&lt;div</span> <span style="color: #7D9029">id=</span><span style="color: #BA2121">&quot;preview&quot;</span> <span style="color: #008000; font-weight: bold">/&gt;</span><br/>    <span style="color: #008000; font-weight: bold">&lt;script </span><span style="color: #7D9029">src=</span><span style="color: #BA2121">&quot;http://marboo.biz/media/lib/markdown.js&quot;</span> <span style="color: #7D9029">type=</span><span style="color: #BA2121">&quot;text/javascript&quot;</span><span style="color: #008000; font-weight: bold">&gt;&lt;/script&gt;</span><br/>    <span style="color: #008000; font-weight: bold">&lt;script&gt;</span><br/>        <span style="color: #008000; font-weight: bold">var</span> source<span style="color: #666666">=</span><span style="color: #008000">document</span>.getElementById(<span style="color: #BA2121">&quot;source&quot;</span>).value;<br/>        <span style="color: #008000">document</span>.getElementById(<span style="color: #BA2121">&quot;preview&quot;</span>).innerHTML <span style="color: #666666">=</span> markdown.toHTML(source);<br/>    <span style="color: #008000; font-weight: bold">&lt;/script&gt;</span><br/>  <span style="color: #008000; font-weight: bold">&lt;/body&gt;</span><br/><span style="color: #008000; font-weight: bold">&lt;/html&gt;</span><br/></pre></div>
<div class="section" id="windows">
<h3><a class="toc-backref" href="#id18">Windows用户</a></h3>
<ul class="simple">
<li>XP：放到目录</li>
</ul>
<div class="highlight"><pre style="line-height: 125%">C:\Documents And Settings\[User Name]\marboo\source\media\templates<br/></pre></div>
<ul class="simple">
<li>Win7: 放到目录</li>
</ul>
<div class="highlight"><pre style="line-height: 125%">C:\Users\[User Name]\marboo\source\media\templates<br/></pre></div>
<p>如果修改过USERPROFILE环境变量，那么放到目录</p>
<div class="highlight"><pre style="line-height: 125%">%USERPROFILE%\marboo\source\media\templates<br/></pre></div>
<p>上述目录不存在的话手工建立</p>
</div>
<div class="section" id="linux">
<h3><a class="toc-backref" href="#id19">Linux用户</a></h3>
<p>放到目录</p>
<div class="highlight"><pre style="line-height: 125%"><span style="color: #808080">~/.marboo/source/media/templates</span><br/></pre></div>
</div>
</div>
<div class="section" id="id6">
<h2><a class="toc-backref" href="#id20">配置默认编辑器</a></h2>
<p>Windows下： media/bin/default_editor.bat</p>
<p>示例：</p>
<div class="highlight"><pre style="line-height: 125%">notepad.exe <span style="color: #19177C">%1</span><br/></pre></div>
<p>Linux下： media/bin/default_editor.sh</p>
<p>示例：</p>
<div class="highlight"><pre style="line-height: 125%">gvim $1<br/></pre></div>
</div>
</div>
<div class="section" id="id7">
<h1><a class="toc-backref" href="#id21">使用说明</a></h1>
<div class="section" id="id8">
<h2><a class="toc-backref" href="#id22">目前实现的功能</a></h2>
<ul class="simple">
<li>左栏自动同步文件/目录的增删</li>
<li>双击左栏文件，调用本地编辑器编辑</li>
<li>右栏实时预览markdown文件</li>
</ul>
</div>
</div>
<div class="section" id="id9">
<h1><a class="toc-backref" href="#id23">Marboo微群</a></h1>
<p><a class="reference external" href="http://q.weibo.com/1656864">http://q.weibo.com/1656864</a></p>
</div>
<div class="section" id="id10">
<h1><a class="toc-backref" href="#id24">常见问题</a></h1>
<div class="section" id="id11">
<h2><a class="toc-backref" href="#id25">左栏为空</a></h2>
<ol class="arabic simple">
<li>确保已经 <a class="reference internal" href="#id5">初始化配置</a></li>
<li>右键-&gt;审查元素，点左下角第二个图标，进入javascript控制台</li>
</ol>
<p>首先确认插件是否正确加载：</p>
<p>预期结果（看到TypeError莫惊慌）：</p>
<div class="highlight"><pre style="line-height: 125%"><span style="color: #000080; font-weight: bold">&gt;</span> core<span style="color: #666666">()</span><br/><span style="color: #808080">  &quot;TypeError&quot;</span><br/></pre></div>
<p>可能出现的错误结果：</p>
<div class="highlight"><pre style="line-height: 125%"><span style="color: #000080; font-weight: bold">&gt;</span> core<span style="color: #666666">()</span><br/><span style="color: #808080">  &lt;object id=&quot;marboo-core&quot; type=&quot;application/x-marboo&quot; width=&quot;0&quot; height=&quot;0&quot; &gt;&lt;/object&gt;</span><br/></pre></div>
<p>解决方法：联系amoblin。</p>
<p>其次确认Marboo的目录：</p>
<div class="highlight"><pre style="line-height: 125%"><span style="color: #000080; font-weight: bold">&gt;</span> core<span style="color: #666666">()</span>.root<br/><span style="color: #808080">  &quot;C:\Documents and Settings\Administrator/marboo/build&quot;</span><br/></pre></div>
<p>若执行结果里面的marboo路径和 <a class="reference internal" href="#id5">初始化配置</a> 里面的marboo路径不符，那么将配置文件转移到这里的marboo路径下即可。</p>
<p>最后确认listDir函数正常工作：</p>
<div class="highlight"><pre style="line-height: 125%"><span style="color: #000080; font-weight: bold">&gt;</span> core<span style="color: #666666">()</span>.listDir<span style="color: #666666">(</span><span style="color: #BA2121">&quot;/&quot;</span><span style="color: #666666">)</span><br/><span style="color: #808080">  [ Object , Object , Object , Object , Object , Object , Object , Object ]</span><br/></pre></div>
<p>如果执行没有结果，请联系amoblin来进一步解决。</p>
</div>
<div class="section" id="id12">
<h2><a class="toc-backref" href="#id26">右栏无法显示预览</a></h2>
<p>请确认在插件管理页是否已勾选：允许访问文件网址。</p>
</div>
</div>
</div>
</body>
</html>
